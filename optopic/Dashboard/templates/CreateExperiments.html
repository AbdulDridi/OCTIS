<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
    <title>OpTopic - Create Experiments</title>

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:500,700&display=swap&subset=latin-ext"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600&display=swap&subset=latin-ext"
        rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/bootstrap.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/fontawesome-all.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/swiper.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/magnific-popup.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/styles.css') }}" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}">

</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->


    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top">

        <!-- Image Logo -->
        <a class="navbar-brand logo-image" href="index.html"><img
                src="{{ url_for('static', filename='images/logo.png') }}" alt="alternative"></a>

        <!-- Mobile Menu Toggle Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('home') }}">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('CreateExperiments') }}">CREATE EXPERIMENTS <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('VisualizeExperiments') }}">VISUALIZE
                        EXPERIMENTS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('ManageExperiments') }}">MANAGE EXPERIMENTS</a>
                </li>
            </ul>
        </div>
    </nav> <!-- end of navbar -->
    <!-- end of navbar -->


    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Experiment creation </h1>
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->




    <div class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-container">


                        <!-- Privacy Form -->
                        <div class="form-container">
                            <form id="experimentForm" data-focus="false">

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="path" required>
                                    <label class="label-control" for="pname">select a path to save the
                                        experiment</label>
                                </div>

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="batchId" required>
                                    <label class="label-control" for="pname">Id of the batch</label>
                                </div>

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="expId" required>
                                    <label class="label-control" for="pname">Id of the experiment</label>
                                </div>



                                <div class="basic-2">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <h2>Choose a dataset</h2>
                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                        <div class="row">
                                            <div id="datasetSelector" class="col-lg-12">


                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                    </div> <!-- end of container -->
                                </div> <!-- end of basic-2 -->
                                <!-- end of team -->


                                <div id="modelForm" class="form-group">
                                    <h3>Choose model:</h3>
                                </div>

                                <div id="optimizedMetric" class="form-group">
                                    <h3>Choose metric to optimize:</h3>
                                </div>

                                <div id="trackedMetrics" class="form-group">
                                    <h3>Other metrics to track:</h3>
                                </div>




                                <div class="form-group">
                                    <select class="form-control-select" id="pselect" required>
                                        <option class="select-option" value="" disabled selected>Select Option</option>
                                        <option class="select-option" value="Delete data">Delete my data</option>
                                        <option class="select-option" value="Show me data">Show me my data</option>
                                    </select>
                                    <div class="help-block with-errors"></div>
                                </div>

                                <div class="form-group checkbox">
                                    <input type="checkbox" id="pterms" value="Agreed-to-Terms" required>I have read and
                                    agree to Aria's <a href="privacy-policy.html">Privacy Policy</a> and <a
                                        href="terms-conditions.html">Terms Conditions</a>
                                    <div class="help-block with-errors"></div>
                                </div>

                                <div class="form-group">
                                    <button type="submit" class="form-control-submit-button">Start Experiment</button>
                                </div>

                                <div class="form-message">
                                    <div id="pmsgSubmit" class="h3 text-center hidden"></div>
                                </div>
                            </form>
                        </div> <!-- end of form container -->
                        <!-- end of privacy form -->

                    </div> <!-- end of col-->
                </div> <!-- end of row -->
            </div> <!-- end of col-->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
    </div> <!-- end of ex-basic-2 -->





    <!-- Footer -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="text-container about">
                        <h4>Optopic</h4>
                        <p class="white">Optimizing topic models made simple.</p>
                    </div> <!-- end of text-container -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of footer -->
    <!-- end of footer -->


    <!-- Copyright -->
    <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="p-small">Made in 2020, MIND. Department of Informatics Systems and Communication of Milano
                        Bicocca</p>
                </div> <!-- end of col -->
            </div> <!-- enf of row -->
        </div> <!-- end of container -->
    </div> <!-- end of copyright -->
    <!-- end of copyright -->


    <!-- Scripts -->
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='popper.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.easing.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='swiper.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.magnific-popup.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='morphext.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='isotope.pkgd.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='validator.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='scripts.js') }}"></script>

    <script>

        function getParams(vars) {
            return vars;
        }


        $(document).ready(function () {

            //Get dataset names
            var dataset = document.getElementById("datasetSelector");
            data = getParams({{ datasets| tojson}});
            

        dataLength = data.length;
        for (i = 0; i < dataLength; i++) {

            var slide = document.createElement("div");
            slide.classList.add("team-member");

            var card = document.createElement("div");
            card.classList.add("image-wrapper");

            var img = document.createElement("img");
            img.classList.add("img-fluid");
            img.classList.add("dataset-element")
            img.id = data[i]
            img.src = "{{ url_for('static', filename='images/dataset.png') }}";
            img.alt = "alternative";
            img.addEventListener("click", updateSelectionDataset);
            img.style.borderRadius = "50%";


            var radioBtn = document.createElement("input");
            radioBtn.type = "radio"
            radioBtn.value = data[i];
            radioBtn.id = data[i].concat("rBtn")
            radioBtn.style.visibility = "hidden";
            radioBtn.name = "dataset"

            var DataName = document.createElement("p");
            DataName.classList.add("job-title");
            DataName.innerHTML = data[i];

            slide.appendChild(card)
            card.appendChild(img)
            card.appendChild(DataName)
            card.appendChild(radioBtn)

            dataset.appendChild(slide);

        }



        function updateSelectionDataset() {
            elementImage = this.src;
            n = elementImage.indexOf("static") - 1
            totlen = elementImage.length
            elImg = elementImage.substring(n, totlen)

            if (elImg == "{{ url_for('static', filename='images/dataset_selected.png') }}") {
                this.src = "{{ url_for('static', filename='images/dataset.png') }}";

                rbtnId = this.id.concat("rBtn");
                rbtn = document.getElementById(rbtnId)
                rbtn.checked = false;

            } else {

                $('.dataset-element').each(function (i, obj) {
                    DisplayedImage = obj.src;
                    n = DisplayedImage.indexOf("static") - 1
                    totlen = DisplayedImage.length
                    pathImg = DisplayedImage.substring(n, totlen)

                    if (pathImg == "{{ url_for('static', filename='images/dataset_selected.png') }}") {
                        obj.src = "{{ url_for('static', filename='images/dataset.png') }}";

                        rbtnId = obj.id.concat("rBtn");
                        rbtn = document.getElementById(rbtnId)
                        rbtn.checked = false;
                    }

                })

                this.src = "{{ url_for('static', filename='images/dataset_selected.png') }}";
                rbtnId = this.id.concat("rBtn");
                rbtn = document.getElementById(rbtnId)
                rbtn.checked = true;
            }

            //if (document.querySelector('input[name="dataset"]:checked') != null) {
             //   alert(document.querySelector('input[name="dataset"]:checked').value)
            //}
        }



        });
    </script>


</body>

</html>