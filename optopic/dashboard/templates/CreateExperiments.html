<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Website Title -->
<<<<<<< HEAD
    <title>OpTopic - Create Experiments</title>
=======
    <title>OpTopic - Visualize Experiments</title>
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484

    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:500,700&display=swap&subset=latin-ext"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600&display=swap&subset=latin-ext"
        rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/bootstrap.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/fontawesome-all.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/swiper.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/magnific-popup.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/styles.css') }}" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}">

</head>

<body data-spy="scroll" data-target=".fixed-top">

    <!-- Preloader -->
    <div class="spinner-wrapper">
        <div class="spinner">
            <div class="bounce1"></div>
            <div class="bounce2"></div>
            <div class="bounce3"></div>
        </div>
    </div>
    <!-- end of preloader -->

<<<<<<< HEAD
    <script>

        function destroy() {
            li = this.parentElement
            li.parentElement.removeChild(li);
        }
        function newListElement(listToUpdate, identifier, content) {
            if (listToUpdate == "optimizeMetrics") {
                content.type = "optimize";
            } else {
                content.type = "track";
            }
            content = JSON.stringify(content);

            var li = document.createElement("li");
            li.classList.add("media")

            var t = document.createElement("div")
            t.classList.add("media-body")
            t.innerHTML = "<b>" + identifier + "</b> " + content

            var data = document.createElement("inpupt")

            data.setAttribute("type", "hidden");
            data.setAttribute("name", "metric/" + identifier)
            data.setAttribute("value", content);


            document.getElementById(listToUpdate).appendChild(li);

            var span = document.createElement("SPAN");
            var txt = document.createTextNode("\u00D7");
            span.className = "close";
            span.appendChild(txt);


            li.appendChild(t);
            li.appendChild(data);
            li.appendChild(span);

            span.addEventListener("click", destroy)

        }
    </script>

=======
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484

    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-dark navbar-custom fixed-top">

        <!-- Image Logo -->
        <a class="navbar-brand logo-image" href="index.html"><img
                src="{{ url_for('static', filename='images/logo.png') }}" alt="alternative"></a>

        <!-- Mobile Menu Toggle Button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-awesome fas fa-bars"></span>
            <span class="navbar-toggler-awesome fas fa-times"></span>
        </button>
        <!-- end of mobile menu toggle button -->

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('home') }}">HOME</a>
                </li>
                <li class="nav-item">
<<<<<<< HEAD
                    <a class="nav-link page-scroll" href="{{ url_for('CreateExperiments') }}">CREATE EXPERIMENTS <span
                            class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('VisualizeExperiments') }}">VISUALIZE
                        EXPERIMENTS</a>
=======
                    <a class="nav-link page-scroll" href="{{ url_for('CreateExperiments') }}">CREATE EXPERIMENTS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('VisualizeExperiments') }}">VISUALIZE
                        EXPERIMENTS<span class="sr-only">(current)</span></a>
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484
                </li>
                <li class="nav-item">
                    <a class="nav-link page-scroll" href="{{ url_for('ManageExperiments') }}">MANAGE EXPERIMENTS</a>
                </li>
            </ul>
        </div>
    </nav> <!-- end of navbar -->
    <!-- end of navbar -->


    <!-- Header -->
    <header id="header" class="ex-header">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
<<<<<<< HEAD
                    <h1>Experiment creation </h1>
=======
                    <h1>Visualize Experiments</h1>
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->


<<<<<<< HEAD


    <div class="ex-basic-2">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="text-container">


                        <!-- Privacy Form -->
                        <div class="form-container">
                            <form id="experimentForm" data-focus="false" method="post"
                                action="{{ url_for('startExperiment') }}">

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="path" name="path" required>
                                    <label class="label-control" for="pname">select a path to save the
                                        experiment</label>
                                </div>

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="batchId" name="batchId" required>
                                    <label class="label-control" for="pname">Id of the batch</label>
                                </div>

                                <div class="form-group">
                                    <input type="text" class="form-control-input" id="expId" name="expId" required>
                                    <label class="label-control" for="pname">Id of the experiment</label>
                                </div>



                                <div class="basic-2">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <h2>Choose a dataset</h2>
                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                        <div class="row">
                                            <div id="datasetSelector" class="col-lg-12">


                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                    </div> <!-- end of container -->
                                </div> <!-- end of basic-2 -->


                                <div class="basic-2">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <h2>Choose Model</h2>
                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                        <div class="row">
                                            <div id="modelForm" class="col-lg-12">


                                            </div> <!-- end of col -->
                                            <div id="modelParameters" class="col-lg-12">

                                            </div>
                                        </div> <!-- end of row -->
                                    </div> <!-- end of container -->
                                </div> <!-- end of basic-2 -->


                                <!-- Services -->
                                <div id="services" class="cards-2">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="section-title">Metrics</div>
                                                <h2>Choose Metric to optimize</h2>
                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                        <div class="row">
                                            <div class="col-lg-12" id="optimizeMetrics">


                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                    </div> <!-- end of container -->
                                </div> <!-- end of cards-2 -->
                                <!-- end of services -->

                                <div id="Metrics" class="form-group">
                                    <ul class="list-unstyled li-space-lg" id="metricsList">

                                    </ul>
                                </div>






                                <div id="services-2" class="cards-2">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div class="section-title"></div>
                                                <h2>Choose Metrics to track</h2>
                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                        <div class="row">
                                            <div class="col-lg-12" id="trackMetrics">


                                            </div> <!-- end of col -->
                                        </div> <!-- end of row -->
                                    </div> <!-- end of container -->
                                </div> <!-- end of cards-2 -->
                                <!-- end of services -->

                                <div id="trackMetrics" class="form-group">
                                    <ul class="list-unstyled li-space-lg" id="trackmetricsList">

                                    </ul>
                                </div>




                                <div class="form-group">
                                    <select class="form-control-select" id="pselect" required>
                                        <option class="select-option" value="" disabled selected>Select Option</option>
                                        <option class="select-option" value="Delete data">Delete my data</option>
                                        <option class="select-option" value="Show me data">Show me my data</option>
                                    </select>
                                    <div class="help-block with-errors"></div>
                                </div>

                                <div class="form-group checkbox">
                                    <input type="checkbox" id="pterms" value="Agreed-to-Terms" required>I have read and
                                    agree to Aria's <a href="privacy-policy.html">Privacy Policy</a> and <a
                                        href="terms-conditions.html">Terms Conditions</a>
                                    <div class="help-block with-errors"></div>
                                </div>

                                <div class="form-group">
                                    <button type="submit" class="form-control-submit-button">Start Experiment</button>
                                </div>

                                <div class="form-message">
                                    <div id="pmsgSubmit" class="h3 text-center hidden"></div>
                                </div>
                            </form>
                        </div> <!-- end of form container -->
                        <!-- end of privacy form -->

                    </div> <!-- end of col-->
                </div> <!-- end of row -->
            </div> <!-- end of col-->
        </div> <!-- end of row -->
    </div> <!-- end of container -->
    </div> <!-- end of ex-basic-2 -->





=======
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484
    <!-- Footer -->
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="text-container about">
                        <h4>Optopic</h4>
                        <p class="white">Optimizing topic models made simple.</p>
                    </div> <!-- end of text-container -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </div> <!-- end of footer -->
    <!-- end of footer -->


    <!-- Copyright -->
    <div class="copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <p class="p-small">Made in 2020, MIND. Department of Informatics Systems and Communication of Milano
                        Bicocca</p>
                </div> <!-- end of col -->
            </div> <!-- enf of row -->
        </div> <!-- end of container -->
    </div> <!-- end of copyright -->
    <!-- end of copyright -->


    <!-- Scripts -->
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='popper.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='bootstrap.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.easing.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='swiper.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='jquery.magnific-popup.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='morphext.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='isotope.pkgd.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='validator.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='scripts.js') }}"></script>

<<<<<<< HEAD
    <script>

        function getParams(vars) {
            return vars;
        }


        $(document).ready(function () {

            //Get dataset names
            dataset = getParams({{ datasets| tojson}});
        imgPath = "{{ url_for('static', filename='images/dataset.png') }}";
        rBtnName = "dataset"
        father = document.getElementById("datasetSelector");
        createCoolSelection(dataset, imgPath, rBtnName, father)


        model = getParams({{ models| tojson}});
        father = document.getElementById("modelForm");

        modelNames = []
        for (const [key, value] of Object.entries(model)) {
            modelNames.push(key)
        }
        rBtnName = "model"
        imgPath = "{{ url_for('static', filename='images/model.png') }}";
        createCoolSelection(modelNames, imgPath, rBtnName, father)



        metrics = getParams({{ metrics| tojson}});

        for (const [key, value] of Object.entries(metrics)) {
            addMetricCard(key, value, "optimizeMetrics")
            addMetricCard(key, value, "trackMetrics")
        }





        function addMetricCard(name, info, where) {

            fat = document.getElementById(where)

            card = document.createElement("div")
            card.classList.add("card")
            fat.appendChild(card)

            card_body = document.createElement("div")
            card_body.classList.add("card-body")
            card.appendChild(card_body)

            card_title = document.createElement("h3")
            card_title.classList.add("card-title")
            card_title.innerHTML = info["name"]
            card_body.appendChild(card_title)

            for (const [key, value] of Object.entries(info)) {
                if (key != "name") {

                    switch (value["type"]) {

                        case "Categorical":
                            newInput = document.createElement("select")
                            newInput.classList.add("form-control-select")

                            for (const val of value["possible_values"]) {
                                var option = document.createElement("option");
                                option.text = val;
                                newInput.appendChild(option)
                            }

                            label = document.createElement("p")
                            label.innerHTML = key;

                            information = document.createElement("div")
                            information.classList.add("information")
                            information.appendChild(label)
                            information.appendChild(newInput)
                            card_body.appendChild(information)

                            break;
                        case "Real":
                            newInput = document.createElement("input")
                            newInput.classList.add("form-control-number");
                            newInput.setAttribute("type", "number");
                            newInput.setAttribute("step", "any");

                            var label = document.createElement("p");
                            label.innerHTML = key;

                            information = document.createElement("div")
                            information.classList.add("information")
                            information.appendChild(label)
                            information.appendChild(newInput)
                            card_body.appendChild(information)


                            break;
                        case "Integer":
                            newInput = document.createElement("input")
                            newInput.classList.add("form-control-number");
                            newInput.setAttribute("type", "number");

                            var label = document.createElement("p");
                            label.innerHTML = key;

                            information = document.createElement("div")
                            information.classList.add("information")
                            information.appendChild(label)
                            information.appendChild(newInput)
                            card_body.appendChild(information)
                            break;

                        case "String":
                            newInput = document.createElement("input")
                            newInput.classList.add("form-control-number");
                            newInput.setAttribute("type", "text");

                            var label = document.createElement("p");
                            label.innerHTML = key;

                            information = document.createElement("div")
                            information.classList.add("information")
                            information.appendChild(label)
                            information.appendChild(newInput)
                            card_body.appendChild(information)
                            break;

                    }


                }
            }

            button_container = document.createElement("div")
            button_container.classList.add("button-container")
            card.appendChild(button_container)

            button = document.createElement("div")
            button.classList.add("btn-solid-reg")
            button.classList.add("page-scroll")
            button.innerHTML = "ADD"

            button.addEventListener("click", function () {

                theCard = this.parentElement.parentElement

                content = {}
                name = ""


                for (var i = 0; i < theCard.childNodes.length; i++) {
                    if (theCard.childNodes[i].className == "card-body") {
                        TheBody = theCard.childNodes[i];

                        for (var j = 0; j < TheBody.childNodes.length; j++) {
                            if (TheBody.childNodes[j].className == "information") {
                                theDiv = TheBody.childNodes[j];

                                if (theDiv.childNodes[0].nodeName == "P") {
                                    content[theDiv.childNodes[0].innerHTML] = theDiv.childNodes[1].value
                                } else {
                                    content[theDiv.childNodes[1].innerHTML] = theDiv.childNodes[0].value
                                }
                            } else {
                                content.metric = TheBody.childNodes[j].innerHTML
                                name = TheBody.childNodes[j].innerHTML
                            }
                        }
                        break;
                    }
                }

                //newListElement(where, name, JSON.stringify(content))
                newListElement(where, name, content)

            })

            button_container.appendChild(button)


        }




        function createCoolSelection(data, imagePath, rBtnName, father) {

            dataLength = data.length;
            for (i = 0; i < dataLength; i++) {

                var slide = document.createElement("div");
                slide.classList.add("team-member");

                var card = document.createElement("div");
                card.classList.add("image-wrapper");

                var img = document.createElement("img");
                img.classList.add("img-fluid");
                img.classList.add(rBtnName)
                img.id = data[i]
                img.src = imagePath;
                img.alt = "alternative";
                img.addEventListener("click", function () {

                    elementImage = this.src;
                    n = elementImage.indexOf("static") - 1
                    totlen = elementImage.length
                    elImg = elementImage.substring(n, totlen)

                    if (elImg.includes("selected")) {
                        n = elImg.indexOf("_selected")
                        this.src = elImg.substring(0, n).concat(".png")

                        rbtnId = this.id.concat("rBtn");
                        rbtn = document.getElementById(rbtnId)
                        rbtn.checked = false;

                    } else {

                        $(".".concat(rBtnName)).each(function (i, obj) {
                            DisplayedImage = obj.src;
                            n = DisplayedImage.indexOf("static") - 1
                            totlen = DisplayedImage.length
                            pathImg = DisplayedImage.substring(n, totlen)

                            if (pathImg.includes("selected")) {
                                n = pathImg.indexOf("_selected")
                                obj.src = pathImg.substring(0, n).concat(".png")

                                rbtnId = obj.id.concat("rBtn");
                                rbtn = document.getElementById(rbtnId)
                                rbtn.checked = false;
                            }

                        })

                        n = elImg.length - 4
                        this.src = pathImg.substring(0, n).concat("_selected.png")
                        rbtnId = this.id.concat("rBtn");
                        rbtn = document.getElementById(rbtnId)
                        rbtn.checked = true;
                    }

                    gestoreContenutiExtra(rBtnName, rbtnId);

                });
                img.style.borderRadius = "50%";


                var radioBtn = document.createElement("input");
                radioBtn.type = "radio"
                radioBtn.value = data[i];
                radioBtn.id = data[i].concat("rBtn")
                radioBtn.style.visibility = "hidden";
                radioBtn.name = rBtnName

                var DataName = document.createElement("p");
                DataName.classList.add("job-title");
                DataName.innerHTML = data[i];

                slide.appendChild(card)
                card.appendChild(img)
                card.appendChild(DataName)
                card.appendChild(radioBtn)

                father.appendChild(slide);

            }

        }


        function gestoreContenutiExtra(nomi, id) {
            if (nomi == "model") {

                $(".".concat(nomi)).each(function () {

                    if (this.id == id.substring(0, id.length - 4)) {
                        toShow = model[this.id];
                        parametersDiv = document.getElementById("modelParameters")
                        parametersDiv.innerHTML = ""
                        parametersDiv.name = this.id + "pd"

                        if (document.getElementById(id).checked == true) {

                            for (const [key, value] of Object.entries(toShow)) {
                                modelNames.push(key)

                                divInput = document.createElement("div");
                                divInput.classList.add("form-group")

                                checkbox = document.createElement("input")
                                checkbox.setAttribute("type", "checkbox");
                                checkbox.id = key + "_check"
                                checkbox.name = key + "_check"
                                divInput.appendChild(checkbox)
                                $(document).off('change', '#'.concat(checkbox.id));
                                $(document).on('change', '#'.concat(checkbox.id), function () {

                                    mdl = parametersDiv.name.substring(0, parametersDiv.name.length - 2)
                                    param = model[mdl]
                                    param = param[this.id.substring(0, this.name.length - 6)]

                                    fat = this.parentElement
                                    check = this.cloneNode(true);
                                    fat.innerHTML = ""
                                    fat.appendChild(check)
                                    fat.appendChild(document.createTextNode("Optimize parameter"))

                                    if (this.checked == true) {

                                        switch (param["type"]) {
                                            case "Categorical":
                                                newInput = document.createElement("select")
                                                newInput.setAttribute("multiple", "");
                                                newInput.classList.add("form-control-select");
                                                newInput.name = key;
                                                newInput.id = key

                                                for (const val of param["possible_values"]) {
                                                    var option = document.createElement("option");
                                                    option.text = val;
                                                    newInput.appendChild(option)
                                                }

                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>" + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);


                                                break;
                                            case "Real":
                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("step", "any");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key + "_min";


                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>min " + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);

                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("step", "any");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key + "_max";


                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>max " + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);
                                                break;

                                            case "Integer":

                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key + "_min";


                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>min " + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);

                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key + "_max";


                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>max " + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);

                                                break;
                                        }


                                    } else {

                                        switch (param["type"]) {
                                            case "Categorical":
                                                newInput = document.createElement("select")
                                                newInput.classList.add("form-control-select");
                                                newInput.name = key;
                                                newInput.id = key

                                                for (const val of param["possible_values"]) {
                                                    var option = document.createElement("option");
                                                    option.text = val;
                                                    newInput.appendChild(option)
                                                }

                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>" + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);
                                                updateDropdownIndex(newInput.id, param["default_value"]);


                                                break;
                                            case "Real":
                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("step", "any");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key;
                                                newInput.id = key
                                                newInput.defaultValue = param["default_value"]

                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>" + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);




                                                break;

                                            case "Integer":

                                                newInput = document.createElement("input")
                                                newInput.classList.add("form-control-number");
                                                newInput.setAttribute("type", "number");
                                                newInput.setAttribute("min", param["min_value"]);
                                                newInput.setAttribute("max", param["max_value"]);
                                                newInput.name = key;
                                                newInput.id = key
                                                newInput.defaultValue = param["default_value"]

                                                var label = document.createElement("p");
                                                label.innerHTML = "<b>" + key + "</b>";

                                                fat.appendChild(label);
                                                fat.appendChild(newInput);

                                                break;
                                        }
                                    }
                                });

                                divInput.appendChild(document.createTextNode("Optimize parameter"));
                                parametersDiv.appendChild(divInput);


                                switch (value["type"]) {
                                    case "Categorical":
                                        newInput = document.createElement("select")
                                        newInput.classList.add("form-control-select");
                                        newInput.name = key;
                                        newInput.id = key

                                        for (const val of value["possible_values"]) {
                                            var option = document.createElement("option");
                                            option.text = val;
                                            newInput.appendChild(option)
                                        }


                                        var label = document.createElement("p");
                                        label.innerHTML = "<b>" + key + "</b>";

                                        divInput.appendChild(label);
                                        divInput.appendChild(newInput);
                                        updateDropdownIndex(newInput.id, value["default_value"]);


                                        break;
                                    case "Real":
                                        newInput = document.createElement("input")
                                        newInput.classList.add("form-control-number");
                                        newInput.setAttribute("type", "number");
                                        newInput.setAttribute("step", "any");
                                        newInput.setAttribute("min", value["min_value"]);
                                        newInput.setAttribute("max", value["max_value"]);
                                        newInput.name = key;
                                        newInput.id = key
                                        newInput.defaultValue = value["default_value"]

                                        var label = document.createElement("p");
                                        label.innerHTML = "<b>" + key + "</b>";

                                        divInput.appendChild(label);
                                        divInput.appendChild(newInput);




                                        break;

                                    case "Integer":

                                        newInput = document.createElement("input")
                                        newInput.classList.add("form-control-number");
                                        newInput.setAttribute("type", "number");
                                        newInput.setAttribute("min", value["min_value"]);
                                        newInput.setAttribute("max", value["max_value"]);
                                        newInput.name = key;
                                        newInput.id = key
                                        newInput.defaultValue = value["default_value"]

                                        var label = document.createElement("p");
                                        label.innerHTML = "<b>" + key + "</b>";

                                        divInput.appendChild(label);
                                        divInput.appendChild(newInput);

                                        break;
                                }
                            }
                        }
                    }

                });

            }


        }

        function updateDropdownIndex(dropdownId, value) {
            dropDown = document.getElementById(dropdownId)
            for (var i, j = 0; i = dropDown.options[j]; j++) {
                if (i.value == value) {
                    dropDown.selectedIndex = j;
                    break;
                }
            }
        }

        });
    </script>


=======
>>>>>>> 51ef64b7149081839cb7a169e650736f4f3a1484
</body>

</html>